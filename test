#!/usr/bin/env python3

from digikey import Session
from pprint import pprint

d = Session.try_deserialize()
is_new = d is None
if is_new:
    d = Session(country='CA')
    d.init_groups()

cat = d.categories['Resistors/Through Hole Resistors']
if is_new:
    cat.init_params()
prods = tuple(cat.search({'Resistance': {'500 Ohms'},
                          'Column Sort': ('Unit Price', True)}))

# prods = d.search({'Keywords': ''})
pprint(prods)
d.serialize()
